# å…³é”®å­—å†²çªä¿®å¤è¯´æ˜

## ğŸ› é—®é¢˜æè¿°

**é”™è¯¯ä¿¡æ¯**ï¼š
```
PPRoom/Manager/RoomManager.swift:201:19: error: expected expression in list of expressions
user: operator,
```

**é”™è¯¯ä½ç½®**ï¼šRoomManager.swift ç¬¬199-201è¡Œ

## ğŸ” é—®é¢˜åŸå› 

åœ¨ `kickFromMicrophone` æ–¹æ³•ä¸­ï¼Œå‚æ•°åä½¿ç”¨äº† `operator`ï¼Œä½† **`operator` æ˜¯ Swift çš„ä¿ç•™å…³é”®å­—**ï¼Œä¸èƒ½ç”¨ä½œå˜é‡åã€å‚æ•°åæˆ–æ ‡è¯†ç¬¦ã€‚

### Swift ä¿ç•™å…³é”®å­—åˆ—è¡¨ï¼ˆéƒ¨åˆ†ï¼‰

Swift ä¸­æœ‰è®¸å¤šä¿ç•™å…³é”®å­—ï¼ŒåŒ…æ‹¬ï¼š
- `operator` - è¿ç®—ç¬¦å…³é”®å­—
- `class` - ç±»å…³é”®å­—
- `func` - å‡½æ•°å…³é”®å­—
- `var` - å˜é‡å…³é”®å­—
- `let` - å¸¸é‡å…³é”®å­—
- `static` - é™æ€å…³é”®å­—
- `return` - è¿”å›å…³é”®å­—
- `if`, `else`, `switch`, `case` - æ§åˆ¶æµå…³é”®å­—
- ç­‰ç­‰...

## âœ… è§£å†³æ–¹æ¡ˆ

å°†å‚æ•°åä» `operator` æ”¹ä¸º `operatorUser`ã€‚

### ä¿®æ”¹å‰ï¼š

```swift
func kickFromMicrophone(operator: User, targetUserId: String, room: Room) -> Result<Void, RoomError> {
    let result = permissionCenter.checkPermission(
        action: .kickFromMicrophone,
        user: operator,  // âŒ operator æ˜¯ä¿ç•™å…³é”®å­—
        room: room,
        metadata: ["targetUserId": targetUserId]
    )
    // ...
}
```

### ä¿®æ”¹åï¼š

```swift
func kickFromMicrophone(operatorUser: User, targetUserId: String, room: Room) -> Result<Void, RoomError> {
    let result = permissionCenter.checkPermission(
        action: .kickFromMicrophone,
        user: operatorUser,  // âœ… ä½¿ç”¨ operatorUser
        room: room,
        metadata: ["targetUserId": targetUserId]
    )
    // ...
}
```

## ğŸ“ å‘½åå»ºè®®

åœ¨ Swift ä¸­ä¸ºå‚æ•°å‘½åæ—¶ï¼Œåº”è¯¥ï¼š

### âœ… å¥½çš„å‘½å
```swift
func kickFromMicrophone(operatorUser: User, ...)
func kickFromMicrophone(hostUser: User, ...)
func kickFromMicrophone(performer: User, ...)
func process(userInput: String, ...)
```

### âŒ é¿å…çš„å‘½å
```swift
func kickFromMicrophone(operator: User, ...)  // operator æ˜¯å…³é”®å­—
func process(class: String, ...)               // class æ˜¯å…³é”®å­—
func create(return: Bool, ...)                 // return æ˜¯å…³é”®å­—
func update(static: Int, ...)                  // static æ˜¯å…³é”®å­—
```

### å¦‚æœå¿…é¡»ä½¿ç”¨å…³é”®å­—

å¦‚æœç¡®å®éœ€è¦ä½¿ç”¨å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œå¯ä»¥ç”¨åå¼•å·åŒ…å›´ï¼ˆä¸æ¨èï¼‰ï¼š

```swift
func kickFromMicrophone(`operator`: User, ...) {
    let user = `operator`  // éœ€è¦ç”¨åå¼•å·
}
```

ä½†è¿™ç§åšæ³•**ä¸æ¨è**ï¼Œå› ä¸ºï¼š
- ä»£ç å¯è¯»æ€§å·®
- å®¹æ˜“å‡ºé”™
- IDE æ”¯æŒä¸å¥½

## ğŸ¯ æœ€ä½³å®è·µ

### 1. é¿å…ä½¿ç”¨å…³é”®å­—
å§‹ç»ˆé¿å…ä½¿ç”¨ Swift å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦ã€‚

### 2. ä½¿ç”¨è¯­ä¹‰åŒ–å‘½å
å‚æ•°ååº”è¯¥æ¸…æ™°è¡¨è¾¾å…¶å«ä¹‰ï¼š
- `operatorUser` - æ“ä½œè€…ç”¨æˆ·
- `hostUser` - æˆ¿ä¸»ç”¨æˆ·
- `targetUser` - ç›®æ ‡ç”¨æˆ·
- `currentUser` - å½“å‰ç”¨æˆ·

### 3. éµå¾ªå‘½åè§„èŒƒ
- å˜é‡/å‚æ•°ï¼šé©¼å³°å‘½åæ³•ï¼ˆcamelCaseï¼‰
- ç±»/ç»“æ„ä½“ï¼šå¸•æ–¯å¡å‘½åæ³•ï¼ˆPascalCaseï¼‰
- å¸¸é‡ï¼šå…¨å¤§å†™+ä¸‹åˆ’çº¿ï¼ˆCONSTANT_CASEï¼‰æˆ–é©¼å³°

## ğŸ” å¦‚ä½•æ£€æµ‹å…³é”®å­—å†²çª

### æ–¹æ³•1ï¼šXcode ç¼–è¯‘
Xcode ä¼šåœ¨ç¼–è¯‘æ—¶æŠ¥é”™ï¼Œæç¤ºå…³é”®å­—å†²çªã€‚

### æ–¹æ³•2ï¼šä»£ç é«˜äº®
åœ¨ Xcode ä¸­ï¼Œå…³é”®å­—ä¼šæœ‰ç‰¹æ®Šçš„é¢œè‰²é«˜äº®æ˜¾ç¤ºã€‚

### æ–¹æ³•3ï¼šä½¿ç”¨ Linter
ä½¿ç”¨ SwiftLint ç­‰å·¥å…·å¯ä»¥æ£€æµ‹å¸¸è§çš„å‘½åé—®é¢˜ã€‚

## ğŸ“š å¸¸è§ Swift ä¿ç•™å…³é”®å­—

### å£°æ˜å…³é”®å­—
```swift
class, struct, enum, protocol, extension
func, var, let, static, subscript
import, typealias, associatedtype
```

### è¯­å¥å…³é”®å­—
```swift
if, else, switch, case, default
for, while, repeat, break, continue
return, throw, try, catch, defer
guard, where
```

### è¡¨è¾¾å¼å’Œç±»å‹å…³é”®å­—
```swift
as, is, super, self, Self
init, deinit, nil, true, false
```

### ç‰¹æ®Šå…³é”®å­—
```swift
inout, operator, precedencegroup
```

## âœ… ä¿®å¤éªŒè¯

ä¿®å¤åï¼Œä»£ç ç¼–è¯‘æˆåŠŸï¼Œæ— é”™è¯¯ï¼š

```bash
âœ… ç¼–è¯‘é€šè¿‡
âœ… æ— è¯­æ³•é”™è¯¯
âœ… å‚æ•°å‘½åæ¸…æ™°
âœ… ä»£ç å¯è¯»æ€§å¥½
```

---

**ä¿®å¤æ—¶é—´**ï¼š2025-11-21  
**ä¿®å¤æ–‡ä»¶**ï¼šPPRoom/Manager/RoomManager.swift  
**å½±å“èŒƒå›´**ï¼š1ä¸ªæ–¹æ³•å®šä¹‰  
**çŠ¶æ€**ï¼šâœ… å®Œæˆ

